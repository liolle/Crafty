import { FILE_FORMAT } from "nodes/nodes";
export class Specification {
}
export class CompositeSpecification {
    and(other) {
        return new AndSpecification(this, other);
    }
    or(other) {
        return new OrSpecification(this, other);
    }
    not() {
        return new NotSpecification(this);
    }
}
class AndSpecification extends CompositeSpecification {
    constructor(left, right) {
        super();
        this.left = left;
        this.right = right;
    }
    isSatisfied(candidate) {
        return (this.left.isSatisfied(candidate) &&
            this.right.isSatisfied(candidate));
    }
}
class OrSpecification extends CompositeSpecification {
    constructor(left, right) {
        super();
        this.left = left;
        this.right = right;
    }
    isSatisfied(candidate) {
        return (this.left.isSatisfied(candidate) ||
            this.right.isSatisfied(candidate));
    }
}
class NotSpecification extends CompositeSpecification {
    constructor(other) {
        super();
        this.other = other;
    }
    isSatisfied(candidate) {
        return !this.other.isSatisfied(candidate);
    }
}
export class ExpressionSpecification extends CompositeSpecification {
    constructor(callback) {
        super();
        this.callback = callback;
    }
    isSatisfied(candidate) {
        return this.callback(candidate);
    }
}
export class AudioSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        if (!candidate.type == "file")
            return false;
        //@ts-ignore
        return candidate.extension in FILE_FORMAT.Audio;
    }
}
export class ImageSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        if (!candidate.type == "file")
            return false;
        //@ts-ignore
        return candidate.extension in FILE_FORMAT.Image;
    }
}
export class VideoSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        if (!candidate.type == "file")
            return false;
        //@ts-ignore
        return candidate.extension in FILE_FORMAT.Video;
    }
}
export class DocumentSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        if (!candidate.type == "file")
            return false;
        //@ts-ignore
        return candidate.extension in FILE_FORMAT.Document;
    }
}
export class FileSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        return candidate.type == "file";
    }
}
export class TextSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        return candidate.type == "text";
    }
}
export class WebSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        return candidate.type == "link";
    }
}
export class GroupSpecification extends CompositeSpecification {
    isSatisfied(candidate) {
        //@ts-ignore
        return candidate.type == "group";
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRTFDLE1BQU0sT0FBZ0IsYUFBYTtDQUtsQztBQUVELE1BQU0sT0FBZ0Isc0JBQXNCO0lBQzNDLEdBQUcsQ0FBQyxLQUF1QjtRQUMxQixPQUFPLElBQUksZ0JBQWdCLENBQUksSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxFQUFFLENBQUMsS0FBdUI7UUFDekIsT0FBTyxJQUFJLGVBQWUsQ0FBSSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELEdBQUc7UUFDRixPQUFPLElBQUksZ0JBQWdCLENBQUksSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQztDQUdEO0FBRUQsTUFBTSxnQkFBb0IsU0FBUSxzQkFBeUI7SUFJMUQsWUFBWSxJQUFzQixFQUFFLEtBQXVCO1FBQzFELEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELFdBQVcsQ0FBQyxTQUFZO1FBQ3ZCLE9BQU8sQ0FDTixJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUM7WUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQ2pDLENBQUM7SUFDSCxDQUFDO0NBQ0Q7QUFFRCxNQUFNLGVBQW1CLFNBQVEsc0JBQXlCO0lBSXpELFlBQVksSUFBc0IsRUFBRSxLQUF1QjtRQUMxRCxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFFRCxXQUFXLENB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U0FBUyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUM7SUFDbEMsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRklMRV9GT1JNQVQgfSBmcm9tIFwibm9kZXMvbm9kZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNwZWNpZmljYXRpb248VD4ge1xuXHRhbmQ6IChzcGVjaWZpY2F0aW9uOiBTcGVjaWZpY2F0aW9uPFQ+KSA9PiBTcGVjaWZpY2F0aW9uPFQ+O1xuXHRvcjogKHNwZWNpZmljYXRpb246IFNwZWNpZmljYXRpb248VD4pID0+IFNwZWNpZmljYXRpb248VD47XG5cdG5vdDogKHNwZWNpZmljYXRpb246IFNwZWNpZmljYXRpb248VD4pID0+IFNwZWNpZmljYXRpb248VD47XG5cdGlzU2F0aXNmaWVkOiAob2JqZWN0OiBUKSA9PiBib29sZWFuO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiBpbXBsZW1lbnRzIFNwZWNpZmljYXRpb248VD4ge1xuXHRhbmQob3RoZXI6IFNwZWNpZmljYXRpb248VD4pOiBTcGVjaWZpY2F0aW9uPFQ+IHtcblx0XHRyZXR1cm4gbmV3IEFuZFNwZWNpZmljYXRpb248VD4odGhpcywgb3RoZXIpO1xuXHR9XG5cblx0b3Iob3RoZXI6IFNwZWNpZmljYXRpb248VD4pOiBTcGVjaWZpY2F0aW9uPFQ+IHtcblx0XHRyZXR1cm4gbmV3IE9yU3BlY2lmaWNhdGlvbjxUPih0aGlzLCBvdGhlcik7XG5cdH1cblxuXHRub3QoKTogU3BlY2lmaWNhdGlvbjxUPiB7XG5cdFx0cmV0dXJuIG5ldyBOb3RTcGVjaWZpY2F0aW9uPFQ+KHRoaXMpO1xuXHR9XG5cblx0YWJzdHJhY3QgaXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbjtcbn1cblxuY2xhc3MgQW5kU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGxlZnQ6IFNwZWNpZmljYXRpb248VD47XG5cdHByaXZhdGUgcmlnaHQ6IFNwZWNpZmljYXRpb248VD47XG5cblx0Y29uc3RydWN0b3IobGVmdDogU3BlY2lmaWNhdGlvbjxUPiwgcmlnaHQ6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XG5cdFx0dGhpcy5yaWdodCA9IHJpZ2h0O1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubGVmdC5pc1NhdGlzZmllZChjYW5kaWRhdGUpICYmXG5cdFx0XHR0aGlzLnJpZ2h0LmlzU2F0aXNmaWVkKGNhbmRpZGF0ZSlcblx0XHQpO1xuXHR9XG59XG5cbmNsYXNzIE9yU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGxlZnQ6IFNwZWNpZmljYXRpb248VD47XG5cdHByaXZhdGUgcmlnaHQ6IFNwZWNpZmljYXRpb248VD47XG5cblx0Y29uc3RydWN0b3IobGVmdDogU3BlY2lmaWNhdGlvbjxUPiwgcmlnaHQ6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMubGVmdCA9IGxlZnQ7XG5cdFx0dGhpcy5yaWdodCA9IHJpZ2h0O1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHRoaXMubGVmdC5pc1NhdGlzZmllZChjYW5kaWRhdGUpIHx8XG5cdFx0XHR0aGlzLnJpZ2h0LmlzU2F0aXNmaWVkKGNhbmRpZGF0ZSlcblx0XHQpO1xuXHR9XG59XG5cbmNsYXNzIE5vdFNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0cHJpdmF0ZSBvdGhlcjogU3BlY2lmaWNhdGlvbjxUPjtcblx0Y29uc3RydWN0b3Iob3RoZXI6IFNwZWNpZmljYXRpb248VD4pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMub3RoZXIgPSBvdGhlcjtcblx0fVxuXG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhdGhpcy5vdGhlci5pc1NhdGlzZmllZChjYW5kaWRhdGUpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uU3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRwcml2YXRlIGNhbGxiYWNrOiAoY2FuZGlkYXRlOiBUKSA9PiBib29sZWFuO1xuXHRjb25zdHJ1Y3RvcihjYWxsYmFjazogKGNhbmRpZGF0ZTogVCkgPT4gYm9vbGVhbikge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHR9XG5cblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY2FsbGJhY2soY2FuZGlkYXRlKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQXVkaW9TcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5BdWRpbztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VTcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5JbWFnZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVmlkZW9TcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5WaWRlbztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRTcGVjaWZpY2F0aW9uPFQ+IGV4dGVuZHMgQ29tcG9zaXRlU3BlY2lmaWNhdGlvbjxUPiB7XG5cdGlzU2F0aXNmaWVkKGNhbmRpZGF0ZTogVCk6IGJvb2xlYW4ge1xuXHRcdC8vQHRzLWlnbm9yZVxuXHRcdGlmICghY2FuZGlkYXRlLnR5cGUgPT0gXCJmaWxlXCIpIHJldHVybiBmYWxzZTtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLmV4dGVuc2lvbiBpbiBGSUxFX0ZPUk1BVC5Eb2N1bWVudDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwiZmlsZVwiO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0U3BlY2lmaWNhdGlvbjxUPiBleHRlbmRzIENvbXBvc2l0ZVNwZWNpZmljYXRpb248VD4ge1xuXHRpc1NhdGlzZmllZChjYW5kaWRhdGU6IFQpOiBib29sZWFuIHtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRyZXR1cm4gY2FuZGlkYXRlLnR5cGUgPT0gXCJ0ZXh0XCI7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFdlYlNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwibGlua1wiO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBHcm91cFNwZWNpZmljYXRpb248VD4gZXh0ZW5kcyBDb21wb3NpdGVTcGVjaWZpY2F0aW9uPFQ+IHtcblx0aXNTYXRpc2ZpZWQoY2FuZGlkYXRlOiBUKTogYm9vbGVhbiB7XG5cdFx0Ly9AdHMtaWdub3JlXG5cdFx0cmV0dXJuIGNhbmRpZGF0ZS50eXBlID09IFwiZ3JvdXBcIjtcblx0fVxufVxuIl19
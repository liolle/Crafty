//Search tests
import { AudioSpecification, DocumentSpecification, FileSpecification, GroupSpecification, ImageSpecification, TextSpecification, VideoSpecification, WebSpecification, } from "specification";
import { describe, expect, test } from "vitest";
const sample_nodes = [
    {
        id: "id1",
        title: "a",
        description: "",
        container: null,
        selected: false,
        type: "file",
        extension: "canvas",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id2",
        title: "b",
        description: "",
        container: null,
        selected: false,
        type: "file",
        extension: "md",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id3",
        title: "c",
        description: "test",
        container: null,
        selected: false,
        type: "file",
        extension: "pdf",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id4",
        title: "az",
        description: "test",
        container: null,
        selected: false,
        type: "file",
        extension: "wav",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id5",
        title: "bc",
        description: "test",
        container: null,
        selected: false,
        type: "file",
        extension: "avif",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id5",
        title: "bc",
        description: "test",
        container: null,
        selected: false,
        type: "file",
        extension: "mp4",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id5",
        title: "bc",
        description: "test",
        container: null,
        selected: false,
        type: "text",
        extension: "",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id5",
        title: "bc",
        description: "test",
        container: null,
        selected: false,
        type: "link",
        extension: "",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "id5",
        title: "bc",
        description: "test",
        container: null,
        selected: false,
        type: "group",
        extension: "",
        created_at: 0,
        last_modified: 0,
    },
];
describe("Specification", () => {
    test("Audio specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "mp3",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new AudioSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Image specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "jpg",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new ImageSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Video specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "mp4",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new VideoSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Document specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "pdf",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new DocumentSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("File specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "jpg",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new FileSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Text specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "text",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new TextSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Web specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "file",
            extension: "mp3",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new WebSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Group specification", () => {
        const node1 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "link",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const node2 = {
            id: "id5",
            title: "bc",
            description: "test",
            container: null,
            selected: false,
            type: "group",
            extension: "",
            created_at: 0,
            last_modified: 0,
        };
        const specification = new GroupSpecification();
        expect(specification.isSatisfied(node1)).toBe(false);
        expect(specification.isSatisfied(node2)).toBe(true);
    });
    test("Composed specification (and) ", () => {
        //
    });
    test("Composed specification (or) ", () => {
        // Audio or Video
        const audio = new AudioSpecification();
        const video = new VideoSpecification();
        const results = sample_nodes.filter((val) => {
            return audio.or(video).isSatisfied(val);
        });
        const audio_video = [
            "flac",
            "m4a",
            "mp3",
            "ogg",
            "wav",
            "webm",
            "3gp",
            "mkv",
            "mov",
            "mp4",
            "ogv",
            "webm",
        ];
        expect(results.length).toBe(2);
        for (const el of results)
            expect(audio_video).toContain(el.extension);
        //Document of Webpage
        const document = new DocumentSpecification();
        const web = new WebSpecification();
        const results2 = sample_nodes.filter((val) => {
            return document.or(web).isSatisfied(val);
        });
        expect(results2.length).toBe(4);
        expect(results2[0].extension).toBe("canvas");
        expect(results2[1].extension).toBe("md");
        expect(results2[2].extension).toBe("pdf");
        expect(results2[3].type).toBe("link");
    });
    test("Composed specification (not) ", () => {
        // No documents
        const document = new DocumentSpecification();
        const results = sample_nodes.filter((val) => {
            return document.not().isSatisfied(val);
        });
        expect(results.length).toBe(6);
        expect(results[0].extension).toBe("wav");
        expect(results[2].extension).toBe("mp4");
        expect(results[4].type).toBe("link");
        expect(results[5].type).toBe("group");
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZS50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibm9kZS50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWM7QUFJZCxPQUFPLEVBQ04sa0JBQWtCLEVBQ2xCLHFCQUFxQixFQUNyQixpQkFBaUIsRUFDakIsa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsa0JBQWtCLEVBQ2xCLGdCQUFnQixHQUNoQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFaEQsTUFBTSxZQUFZLEdBQWlCO0lBQ2xDO1FBQ0MsRUFBRSxFQUFFLEtBQUs7UUFDVCxLQUFLLEVBQUUsR0FBRztRQUNWLFdBQVcsRUFBRSxFQUFFO1FBQ2YsU0FBUyxFQUFFLElBQUk7UUFDZixRQUFRLEVBQUUsS0FBSztRQUNmLElBQUksRUFBRSxNQUFNO1FBQ1osU0FBUyxFQUFFLFFBQVE7UUFDbkIsVUFBVSxFQUFFLENBQUM7UUFDYixhQUFhLEVBQUUsQ0FBQztLQUNoQjtJQUNEO1FBQ0MsRUFBRSxFQUFFLEtBQUs7UUFDVCxLQUFLLEVBQUUsR0FBRztRQUNWLFdBQVcsRUFBRSxFQUFFO1FBQ2YsU0FBUyxFQUFFLElBQUk7UUFDZixRQUFRLEVBQUUsS0FBSztRQUNmLElBQUksRUFBRSxNQUFNO1FBQ1osU0FBUyxFQUFFLElBQUk7UUFDZixVQUFVLEVBQUUsQ0FBQztRQUNiLGFBQWEsRUFBRSxDQUFDO0tBQ2hCO0lBQ0Q7UUFDQyxFQUFFLEVBQUUsS0FBSztRQUNULEtBQUssRUFBRSxHQUFHO1FBQ1YsV0FBVyxFQUFFLE1BQU07UUFDbkIsU0FBUyxFQUFFLElBQUk7UUFDZixRQUFRLEVBQUUsS0FBSztRQUNmLElBQUksRUFBRSxNQUFNO1FBQ1osU0FBUyxFQUFFLEtBQUs7UUFDaEIsVUFBVSxFQUFFLENBQUM7UUFDYixhQUFhLEVBQUUsQ0FBQztL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QWU7UUFDZixNQUFNLFFBQVEsR0FBRyxJQUFJLHFCQUFxQixFQUFjLENBQUM7UUFFekQsTUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQzNDLE9BQU8sUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QyxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvL1NlYXJjaCB0ZXN0c1xuXG4vLyBTb3J0IHRlc3RzXG5pbXBvcnQgeyBDcmFmdHlOb2RlIH0gZnJvbSBcIm5vZGVzL25vZGVzXCI7XG5pbXBvcnQge1xuXHRBdWRpb1NwZWNpZmljYXRpb24sXG5cdERvY3VtZW50U3BlY2lmaWNhdGlvbixcblx0RmlsZVNwZWNpZmljYXRpb24sXG5cdEdyb3VwU3BlY2lmaWNhdGlvbixcblx0SW1hZ2VTcGVjaWZpY2F0aW9uLFxuXHRUZXh0U3BlY2lmaWNhdGlvbixcblx0VmlkZW9TcGVjaWZpY2F0aW9uLFxuXHRXZWJTcGVjaWZpY2F0aW9uLFxufSBmcm9tIFwic3BlY2lmaWNhdGlvblwiO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGV4cGVjdCwgdGVzdCB9IGZyb20gXCJ2aXRlc3RcIjtcblxuY29uc3Qgc2FtcGxlX25vZGVzOiBDcmFmdHlOb2RlW10gPSBbXG5cdHtcblx0XHRpZDogXCJpZDFcIixcblx0XHR0aXRsZTogXCJhXCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiXCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRleHRlbnNpb246IFwiY2FudmFzXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQyXCIsXG5cdFx0dGl0bGU6IFwiYlwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIlwiLFxuXHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0ZXh0ZW5zaW9uOiBcIm1kXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQzXCIsXG5cdFx0dGl0bGU6IFwiY1wiLFxuXHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdGV4dGVuc2lvbjogXCJwZGZcIixcblx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdH0sXG5cdHtcblx0XHRpZDogXCJpZDRcIixcblx0XHR0aXRsZTogXCJhelwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdGV4dGVuc2lvbjogXCJ3YXZcIixcblx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdH0sXG5cdHtcblx0XHRpZDogXCJpZDVcIixcblx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdGV4dGVuc2lvbjogXCJhdmlmXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0dGl0bGU6IFwiYmNcIixcblx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRleHRlbnNpb246IFwibXA0XCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0dGl0bGU6IFwiYmNcIixcblx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcInRleHRcIixcblx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0dGl0bGU6IFwiYmNcIixcblx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImxpbmtcIixcblx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0dGl0bGU6IFwiYmNcIixcblx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImdyb3VwXCIsXG5cdFx0ZXh0ZW5zaW9uOiBcIlwiLFxuXHRcdGNyZWF0ZWRfYXQ6IDAsXG5cdFx0bGFzdF9tb2RpZmllZDogMCxcblx0fSxcbl07XG5cbmRlc2NyaWJlKFwiU3BlY2lmaWNhdGlvblwiLCAoKSA9PiB7XG5cdHRlc3QoXCJBdWRpbyBzcGVjaWZpY2F0aW9uXCIsICgpID0+IHtcblx0XHRjb25zdCBub2RlMTogQ3JhZnR5Tm9kZSA9IHtcblx0XHRcdGlkOiBcImlkNVwiLFxuXHRcdFx0dGl0bGU6IFwiYmNcIixcblx0XHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHR5cGU6IFwibGlua1wiLFxuXHRcdFx0ZXh0ZW5zaW9uOiBcIlwiLFxuXHRcdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vZGUyOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRleHRlbnNpb246IFwibXAzXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3BlY2lmaWNhdGlvbiA9IG5ldyBBdWRpb1NwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblxuXHRcdGV4cGVjdChzcGVjaWZpY2F0aW9uLmlzU2F0aXNmaWVkKG5vZGUxKSkudG9CZShmYWxzZSk7XG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTIpKS50b0JlKHRydWUpO1xuXHR9KTtcblx0dGVzdChcIkltYWdlIHNwZWNpZmljYXRpb25cIiwgKCkgPT4ge1xuXHRcdGNvbnN0IG5vZGUxOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJsaW5rXCIsXG5cdFx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgbm9kZTI6IENyYWZ0eU5vZGUgPSB7XG5cdFx0XHRpZDogXCJpZDVcIixcblx0XHRcdHRpdGxlOiBcImJjXCIsXG5cdFx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRcdGV4dGVuc2lvbjogXCJqcGdcIixcblx0XHRcdGNyZWF0ZWRfYXQ6IDAsXG5cdFx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHRcdH07XG5cblx0XHRjb25zdCBzcGVjaWZpY2F0aW9uID0gbmV3IEltYWdlU3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpO1xuXG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTEpKS50b0JlKGZhbHNlKTtcblx0XHRleHBlY3Qoc3BlY2lmaWNhdGlvbi5pc1NhdGlzZmllZChub2RlMikpLnRvQmUodHJ1ZSk7XG5cdH0pO1xuXHR0ZXN0KFwiVmlkZW8gc3BlY2lmaWNhdGlvblwiLCAoKSA9PiB7XG5cdFx0Y29uc3Qgbm9kZTE6IENyYWZ0eU5vZGUgPSB7XG5cdFx0XHRpZDogXCJpZDVcIixcblx0XHRcdHRpdGxlOiBcImJjXCIsXG5cdFx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHR0eXBlOiBcImxpbmtcIixcblx0XHRcdGV4dGVuc2lvbjogXCJcIixcblx0XHRcdGNyZWF0ZWRfYXQ6IDAsXG5cdFx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHRcdH07XG5cblx0XHRjb25zdCBub2RlMjogQ3JhZnR5Tm9kZSA9IHtcblx0XHRcdGlkOiBcImlkNVwiLFxuXHRcdFx0dGl0bGU6IFwiYmNcIixcblx0XHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdFx0ZXh0ZW5zaW9uOiBcIm1wNFwiLFxuXHRcdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHNwZWNpZmljYXRpb24gPSBuZXcgVmlkZW9TcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+KCk7XG5cblx0XHRleHBlY3Qoc3BlY2lmaWNhdGlvbi5pc1NhdGlzZmllZChub2RlMSkpLnRvQmUoZmFsc2UpO1xuXHRcdGV4cGVjdChzcGVjaWZpY2F0aW9uLmlzU2F0aXNmaWVkKG5vZGUyKSkudG9CZSh0cnVlKTtcblx0fSk7XG5cdHRlc3QoXCJEb2N1bWVudCBzcGVjaWZpY2F0aW9uXCIsICgpID0+IHtcblx0XHRjb25zdCBub2RlMTogQ3JhZnR5Tm9kZSA9IHtcblx0XHRcdGlkOiBcImlkNVwiLFxuXHRcdFx0dGl0bGU6IFwiYmNcIixcblx0XHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHR5cGU6IFwibGlua1wiLFxuXHRcdFx0ZXh0ZW5zaW9uOiBcIlwiLFxuXHRcdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vZGUyOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRleHRlbnNpb246IFwicGRmXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3BlY2lmaWNhdGlvbiA9IG5ldyBEb2N1bWVudFNwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblxuXHRcdGV4cGVjdChzcGVjaWZpY2F0aW9uLmlzU2F0aXNmaWVkKG5vZGUxKSkudG9CZShmYWxzZSk7XG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTIpKS50b0JlKHRydWUpO1xuXHR9KTtcblxuXHR0ZXN0KFwiRmlsZSBzcGVjaWZpY2F0aW9uXCIsICgpID0+IHtcblx0XHRjb25zdCBub2RlMTogQ3JhZnR5Tm9kZSA9IHtcblx0XHRcdGlkOiBcImlkNVwiLFxuXHRcdFx0dGl0bGU6IFwiYmNcIixcblx0XHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHR5cGU6IFwibGlua1wiLFxuXHRcdFx0ZXh0ZW5zaW9uOiBcIlwiLFxuXHRcdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vZGUyOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRleHRlbnNpb246IFwianBnXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3BlY2lmaWNhdGlvbiA9IG5ldyBGaWxlU3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpO1xuXG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTEpKS50b0JlKGZhbHNlKTtcblx0XHRleHBlY3Qoc3BlY2lmaWNhdGlvbi5pc1NhdGlzZmllZChub2RlMikpLnRvQmUodHJ1ZSk7XG5cdH0pO1xuXHR0ZXN0KFwiVGV4dCBzcGVjaWZpY2F0aW9uXCIsICgpID0+IHtcblx0XHRjb25zdCBub2RlMTogQ3JhZnR5Tm9kZSA9IHtcblx0XHRcdGlkOiBcImlkNVwiLFxuXHRcdFx0dGl0bGU6IFwiYmNcIixcblx0XHRcdGRlc2NyaXB0aW9uOiBcInRlc3RcIixcblx0XHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHR5cGU6IFwibGlua1wiLFxuXHRcdFx0ZXh0ZW5zaW9uOiBcIlwiLFxuXHRcdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vZGUyOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJ0ZXh0XCIsXG5cdFx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3BlY2lmaWNhdGlvbiA9IG5ldyBUZXh0U3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpO1xuXG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTEpKS50b0JlKGZhbHNlKTtcblx0XHRleHBlY3Qoc3BlY2lmaWNhdGlvbi5pc1NhdGlzZmllZChub2RlMikpLnRvQmUodHJ1ZSk7XG5cdH0pO1xuXHR0ZXN0KFwiV2ViIHNwZWNpZmljYXRpb25cIiwgKCkgPT4ge1xuXHRcdGNvbnN0IG5vZGUxOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0XHRleHRlbnNpb246IFwibXAzXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgbm9kZTI6IENyYWZ0eU5vZGUgPSB7XG5cdFx0XHRpZDogXCJpZDVcIixcblx0XHRcdHRpdGxlOiBcImJjXCIsXG5cdFx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHR0eXBlOiBcImxpbmtcIixcblx0XHRcdGV4dGVuc2lvbjogXCJcIixcblx0XHRcdGNyZWF0ZWRfYXQ6IDAsXG5cdFx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHRcdH07XG5cblx0XHRjb25zdCBzcGVjaWZpY2F0aW9uID0gbmV3IFdlYlNwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblxuXHRcdGV4cGVjdChzcGVjaWZpY2F0aW9uLmlzU2F0aXNmaWVkKG5vZGUxKSkudG9CZShmYWxzZSk7XG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTIpKS50b0JlKHRydWUpO1xuXHR9KTtcblx0dGVzdChcIkdyb3VwIHNwZWNpZmljYXRpb25cIiwgKCkgPT4ge1xuXHRcdGNvbnN0IG5vZGUxOiBDcmFmdHlOb2RlID0ge1xuXHRcdFx0aWQ6IFwiaWQ1XCIsXG5cdFx0XHR0aXRsZTogXCJiY1wiLFxuXHRcdFx0ZGVzY3JpcHRpb246IFwidGVzdFwiLFxuXHRcdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0dHlwZTogXCJsaW5rXCIsXG5cdFx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgbm9kZTI6IENyYWZ0eU5vZGUgPSB7XG5cdFx0XHRpZDogXCJpZDVcIixcblx0XHRcdHRpdGxlOiBcImJjXCIsXG5cdFx0XHRkZXNjcmlwdGlvbjogXCJ0ZXN0XCIsXG5cdFx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0XHR0eXBlOiBcImdyb3VwXCIsXG5cdFx0XHRleHRlbnNpb246IFwiXCIsXG5cdFx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdFx0bGFzdF9tb2RpZmllZDogMCxcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3BlY2lmaWNhdGlvbiA9IG5ldyBHcm91cFNwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblxuXHRcdGV4cGVjdChzcGVjaWZpY2F0aW9uLmlzU2F0aXNmaWVkKG5vZGUxKSkudG9CZShmYWxzZSk7XG5cdFx0ZXhwZWN0KHNwZWNpZmljYXRpb24uaXNTYXRpc2ZpZWQobm9kZTIpKS50b0JlKHRydWUpO1xuXHR9KTtcblxuXHR0ZXN0KFwiQ29tcG9zZWQgc3BlY2lmaWNhdGlvbiAoYW5kKSBcIiwgKCkgPT4ge1xuXHRcdC8vXG5cdH0pO1xuXHR0ZXN0KFwiQ29tcG9zZWQgc3BlY2lmaWNhdGlvbiAob3IpIFwiLCAoKSA9PiB7XG5cdFx0Ly8gQXVkaW8gb3IgVmlkZW9cblx0XHRjb25zdCBhdWRpbyA9IG5ldyBBdWRpb1NwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblx0XHRjb25zdCB2aWRlbyA9IG5ldyBWaWRlb1NwZWNpZmljYXRpb248Q3JhZnR5Tm9kZT4oKTtcblxuXHRcdGNvbnN0IHJlc3VsdHMgPSBzYW1wbGVfbm9kZXMuZmlsdGVyKCh2YWwpID0+IHtcblx0XHRcdHJldHVybiBhdWRpby5vcih2aWRlbykuaXNTYXRpc2ZpZWQodmFsKTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGF1ZGlvX3ZpZGVvID0gW1xuXHRcdFx0XCJmbGFjXCIsXG5cdFx0XHRcIm00YVwiLFxuXHRcdFx0XCJtcDNcIixcblx0XHRcdFwib2dnXCIsXG5cdFx0XHRcIndhdlwiLFxuXHRcdFx0XCJ3ZWJtXCIsXG5cdFx0XHRcIjNncFwiLFxuXHRcdFx0XCJta3ZcIixcblx0XHRcdFwibW92XCIsXG5cdFx0XHRcIm1wNFwiLFxuXHRcdFx0XCJvZ3ZcIixcblx0XHRcdFwid2VibVwiLFxuXHRcdF07XG5cdFx0ZXhwZWN0KHJlc3VsdHMubGVuZ3RoKS50b0JlKDIpO1xuXHRcdGZvciAoY29uc3QgZWwgb2YgcmVzdWx0cykgZXhwZWN0KGF1ZGlvX3ZpZGVvKS50b0NvbnRhaW4oZWwuZXh0ZW5zaW9uKTtcblxuXHRcdC8vRG9jdW1lbnQgb2YgV2VicGFnZVxuXHRcdGNvbnN0IGRvY3VtZW50ID0gbmV3IERvY3VtZW50U3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpO1xuXHRcdGNvbnN0IHdlYiA9IG5ldyBXZWJTcGVjaWZpY2F0aW9uPENyYWZ0eU5vZGU+KCk7XG5cblx0XHRjb25zdCByZXN1bHRzMiA9IHNhbXBsZV9ub2Rlcy5maWx0ZXIoKHZhbCkgPT4ge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50Lm9yKHdlYikuaXNTYXRpc2ZpZWQodmFsKTtcblx0XHR9KTtcblxuXHRcdGV4cGVjdChyZXN1bHRzMi5sZW5ndGgpLnRvQmUoNCk7XG5cdFx0ZXhwZWN0KHJlc3VsdHMyWzBdLmV4dGVuc2lvbikudG9CZShcImNhbnZhc1wiKTtcblx0XHRleHBlY3QocmVzdWx0czJbMV0uZXh0ZW5zaW9uKS50b0JlKFwibWRcIik7XG5cdFx0ZXhwZWN0KHJlc3VsdHMyWzJdLmV4dGVuc2lvbikudG9CZShcInBkZlwiKTtcblx0XHRleHBlY3QocmVzdWx0czJbM10udHlwZSkudG9CZShcImxpbmtcIik7XG5cdH0pO1xuXHR0ZXN0KFwiQ29tcG9zZWQgc3BlY2lmaWNhdGlvbiAobm90KSBcIiwgKCkgPT4ge1xuXHRcdC8vIE5vIGRvY3VtZW50c1xuXHRcdGNvbnN0IGRvY3VtZW50ID0gbmV3IERvY3VtZW50U3BlY2lmaWNhdGlvbjxDcmFmdHlOb2RlPigpO1xuXG5cdFx0Y29uc3QgcmVzdWx0cyA9IHNhbXBsZV9ub2Rlcy5maWx0ZXIoKHZhbCkgPT4ge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50Lm5vdCgpLmlzU2F0aXNmaWVkKHZhbCk7XG5cdFx0fSk7XG5cblx0XHRleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmUoNik7XG5cdFx0ZXhwZWN0KHJlc3VsdHNbMF0uZXh0ZW5zaW9uKS50b0JlKFwid2F2XCIpO1xuXHRcdGV4cGVjdChyZXN1bHRzWzJdLmV4dGVuc2lvbikudG9CZShcIm1wNFwiKTtcblx0XHRleHBlY3QocmVzdWx0c1s0XS50eXBlKS50b0JlKFwibGlua1wiKTtcblx0XHRleHBlY3QocmVzdWx0c1s1XS50eXBlKS50b0JlKFwiZ3JvdXBcIik7XG5cdH0pO1xufSk7XG4iXX0=
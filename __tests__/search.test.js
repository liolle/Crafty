//Search tests
// Sort tests
import { NodesExplorer } from "nodes/nodes";
import { beforeEach, describe, expect, test } from "vitest";
// const sample_titles = [
// 	"Cascade",
// 	"Phoenix",
// 	"Nebula",
// 	"Horizon",
// 	"Mirage",
// 	"Dragon",
// 	"Odyssey",
// 	"Pinnacle",
// 	"Comet",
// 	"Aurora",
// 	"Eclipse",
// 	"Infinity",
// 	"Zenith",
// 	"Serenity",
// 	"Apple",
// 	"Banana",
// 	"Cherry",
// 	"Grape",
// 	"Kiwi",
// 	"Mango",
// 	"Orange",
// 	"Peach",
// 	"Pear",
// 	"Strawberry",
// 	"Watermelon",
// 	"Pineapple",
// 	"Blueberry",
// 	"Raspberry",
// 	"Blackberry",
// 	"Radiant",
// 	"Whispering",
// 	"Majestic",
// 	"Vibrant",
// 	"Enchanted",
// 	"Luminous",
// 	"Mystical",
// 	"Serene",
// 	"Wandering",
// 	"Cosmic",
// 	"Tranquil",
// 	"Energetic",
// 	"Celestial",
// 	"Harmonious",
// 	"Galactic",
// 	"Lion",
// 	"Tiger",
// 	"Elephant",
// 	"Zebra",
// 	"Giraffe",
// 	"Kangaroo",
// 	"Panda",
// 	"Koala",
// 	"Hippopotamus",
// 	"Dolphin",
// 	"Octopus",
// 	"Butterfly",
// 	"Hawk",
// 	"Owl",
// 	"Turtle",
// ];
const sample_nodes = [
    {
        id: "s1",
        title: "node1",
        description: "",
        container: null,
        selected: false,
        type: "file",
        extension: "canvas",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "s2",
        title: "node2",
        description: "",
        container: null,
        selected: false,
        type: "file",
        extension: "canvas",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "s1",
        title: "node1",
        description: "node1 bis",
        container: null,
        selected: false,
        type: "file",
        extension: "canvas",
        created_at: 0,
        last_modified: 0,
    },
    {
        id: "s3",
        title: "node123",
        description: "description",
        container: null,
        selected: false,
        type: "file",
        extension: "canvas",
        created_at: 0,
        last_modified: 0,
    },
];
describe("NodesExplorer", () => {
    const explorer = new NodesExplorer();
    beforeEach(() => {
        explorer.clear();
    });
    // Add elements
    test("Simple add", () => {
        expect(explorer.size).toBe(0);
        explorer.add(sample_nodes[0]);
        expect(explorer.size).toBe(sample_nodes[0].title.length);
    });
    test("Add multiple", () => {
        expect(explorer.size).toBe(0);
        explorer.add(sample_nodes[0]);
        explorer.add(sample_nodes[1]);
        expect(explorer.size).toBe(sample_nodes[0].title.length + sample_nodes[1].title.length);
    });
    test("Add multiple overlap", () => {
        expect(explorer.size).toBe(0);
        explorer.add(sample_nodes[0]);
        explorer.add(sample_nodes[2]);
        expect(explorer.size).toBe(sample_nodes[2].title.length);
    });
    // Remove elements
    test("Simple remove", () => {
        expect(explorer.size).toBe(0);
        const node = sample_nodes[0];
        explorer.add(node);
        explorer.remove(node);
        console.log(JSON.stringify(explorer));
        expect(explorer.size).toBe(0);
    });
    // Search elements
    test("Simple search", () => {
        expect(explorer.size).toBe(0);
        const node = sample_nodes[0];
        explorer.add(node);
        const search = explorer.search(node.title);
        const s_node = search[0];
        expect(search.length).toBe(1);
        expect(s_node.title).toBe(node.title);
    });
    test("Search not exit", () => {
        expect(explorer.size).toBe(0);
        let search = explorer.search("empty");
        expect(search.length).toBe(0);
        const node = sample_nodes[0];
        explorer.add(node);
        search = explorer.search("empty");
        expect(search.length).toBe(0);
    });
    test("Search after remove", () => {
        expect(explorer.size).toBe(0);
        const node = sample_nodes[0];
        explorer.add(node);
        explorer.remove(node);
        const search = explorer.search(node.title);
        expect(search.length).toBe(0);
    });
    test("Search overlap", () => {
        expect(explorer.size).toBe(0);
        const node = sample_nodes[0];
        const node2 = sample_nodes[2];
        explorer.add(node);
        explorer.add(node2);
        const search = explorer.search(node.title);
        expect(search.length).toBe(1);
        const s_node = search[0];
        expect(s_node.title).toBe(node2.title);
        expect(s_node.description).toBe(node2.description);
    });
    test("Prefix search", () => {
        expect(explorer.size).toBe(0);
        const node = sample_nodes[0];
        const node2 = sample_nodes[1];
        const node3 = sample_nodes[3];
        explorer.add(node);
        explorer.add(node2);
        explorer.add(node3);
        //@ts-ignore
        const search = explorer.prefixSearch("no");
        expect(search.length).toBe(3);
        expect(search).toContain(node);
        expect(search).toContain(node2);
        expect(search).toContain(node3);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZWFyY2gudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxjQUFjO0FBRWQsYUFBYTtBQUNiLE9BQU8sRUFBYyxhQUFhLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDeEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUU1RCwwQkFBMEI7QUFDMUIsY0FBYztBQUNkLGNBQWM7QUFDZCxhQUFhO0FBQ2IsY0FBYztBQUNkLGFBQWE7QUFDYixhQUFhO0FBQ2IsY0FBYztBQUNkLGVBQWU7QUFDZixZQUFZO0FBQ1osYUFBYTtBQUNiLGNBQWM7QUFDZCxlQUFlO0FBQ2YsYUFBYTtBQUNiLGVBQWU7QUFDZixZQUFZO0FBQ1osYUFBYTtBQUNiLGFBQWE7QUFDYixZQUFZO0FBQ1osV0FBVztBQUNYLFlBQVk7QUFDWixhQUFhO0FBQ2IsWUFBWTtBQUNaLFdBQVc7QUFDWCxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2QsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixjQUFjO0FBQ2QsZ0JBQWdCO0FBQ2hCLGVBQWU7QUFDZixlQUFlO0FBQ2YsYUFBYTtBQUNiLGdCQUFnQjtBQUNoQixhQUFhO0FBQ2IsZUFBZTtBQUNmLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixXQUFXO0FBQ1gsWUFBWTtBQUNaLGVBQWU7QUFDZixZQUFZO0FBQ1osY0FBYztBQUNkLGVBQWU7QUFDZixZQUFZO0FBQ1osWUFBWTtBQUNaLG1CQUFtQjtBQUNuQixjQUFjO0FBQ2QsY0FBYztBQUNkLGdCQUFnQjtBQUNoQixXQUFXO0FBQ1gsVUFBVTtBQUNWLGFBQWE7QUFDYixLQUFLO0FBRUwsTUFB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QUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQzVCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTlCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFOUIsTUFBTSxJQUFJLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbkIsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbEMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMscUJBQXFCLEVBQUUsR0FBRyxFQUFFO1FBQ2hDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTlCLE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25CLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdEIsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFO1FBQzNCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTlCLE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXBCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTlCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7UUFDMUIsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFOUIsTUFBTSxJQUFJLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BCLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFcEIsWUFBWTtRQUNaLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vU2VhcmNoIHRlc3RzXG5cbi8vIFNvcnQgdGVzdHNcbmltcG9ydCB7IENyYWZ0eU5vZGUsIE5vZGVzRXhwbG9yZXIgfSBmcm9tIFwibm9kZXMvbm9kZXNcIjtcbmltcG9ydCB7IGJlZm9yZUVhY2gsIGRlc2NyaWJlLCBleHBlY3QsIHRlc3QgfSBmcm9tIFwidml0ZXN0XCI7XG5cbi8vIGNvbnN0IHNhbXBsZV90aXRsZXMgPSBbXG4vLyBcdFwiQ2FzY2FkZVwiLFxuLy8gXHRcIlBob2VuaXhcIixcbi8vIFx0XCJOZWJ1bGFcIixcbi8vIFx0XCJIb3Jpem9uXCIsXG4vLyBcdFwiTWlyYWdlXCIsXG4vLyBcdFwiRHJhZ29uXCIsXG4vLyBcdFwiT2R5c3NleVwiLFxuLy8gXHRcIlBpbm5hY2xlXCIsXG4vLyBcdFwiQ29tZXRcIixcbi8vIFx0XCJBdXJvcmFcIixcbi8vIFx0XCJFY2xpcHNlXCIsXG4vLyBcdFwiSW5maW5pdHlcIixcbi8vIFx0XCJaZW5pdGhcIixcbi8vIFx0XCJTZXJlbml0eVwiLFxuLy8gXHRcIkFwcGxlXCIsXG4vLyBcdFwiQmFuYW5hXCIsXG4vLyBcdFwiQ2hlcnJ5XCIsXG4vLyBcdFwiR3JhcGVcIixcbi8vIFx0XCJLaXdpXCIsXG4vLyBcdFwiTWFuZ29cIixcbi8vIFx0XCJPcmFuZ2VcIixcbi8vIFx0XCJQZWFjaFwiLFxuLy8gXHRcIlBlYXJcIixcbi8vIFx0XCJTdHJhd2JlcnJ5XCIsXG4vLyBcdFwiV2F0ZXJtZWxvblwiLFxuLy8gXHRcIlBpbmVhcHBsZVwiLFxuLy8gXHRcIkJsdWViZXJyeVwiLFxuLy8gXHRcIlJhc3BiZXJyeVwiLFxuLy8gXHRcIkJsYWNrYmVycnlcIixcbi8vIFx0XCJSYWRpYW50XCIsXG4vLyBcdFwiV2hpc3BlcmluZ1wiLFxuLy8gXHRcIk1hamVzdGljXCIsXG4vLyBcdFwiVmlicmFudFwiLFxuLy8gXHRcIkVuY2hhbnRlZFwiLFxuLy8gXHRcIkx1bWlub3VzXCIsXG4vLyBcdFwiTXlzdGljYWxcIixcbi8vIFx0XCJTZXJlbmVcIixcbi8vIFx0XCJXYW5kZXJpbmdcIixcbi8vIFx0XCJDb3NtaWNcIixcbi8vIFx0XCJUcmFucXVpbFwiLFxuLy8gXHRcIkVuZXJnZXRpY1wiLFxuLy8gXHRcIkNlbGVzdGlhbFwiLFxuLy8gXHRcIkhhcm1vbmlvdXNcIixcbi8vIFx0XCJHYWxhY3RpY1wiLFxuLy8gXHRcIkxpb25cIixcbi8vIFx0XCJUaWdlclwiLFxuLy8gXHRcIkVsZXBoYW50XCIsXG4vLyBcdFwiWmVicmFcIixcbi8vIFx0XCJHaXJhZmZlXCIsXG4vLyBcdFwiS2FuZ2Fyb29cIixcbi8vIFx0XCJQYW5kYVwiLFxuLy8gXHRcIktvYWxhXCIsXG4vLyBcdFwiSGlwcG9wb3RhbXVzXCIsXG4vLyBcdFwiRG9scGhpblwiLFxuLy8gXHRcIk9jdG9wdXNcIixcbi8vIFx0XCJCdXR0ZXJmbHlcIixcbi8vIFx0XCJIYXdrXCIsXG4vLyBcdFwiT3dsXCIsXG4vLyBcdFwiVHVydGxlXCIsXG4vLyBdO1xuXG5jb25zdCBzYW1wbGVfbm9kZXM6IENyYWZ0eU5vZGVbXSA9IFtcblx0e1xuXHRcdGlkOiBcInMxXCIsXG5cdFx0dGl0bGU6IFwibm9kZTFcIixcblx0XHRkZXNjcmlwdGlvbjogXCJcIixcblx0XHRjb250YWluZXI6IG51bGwsXG5cdFx0c2VsZWN0ZWQ6IGZhbHNlLFxuXHRcdHR5cGU6IFwiZmlsZVwiLFxuXHRcdGV4dGVuc2lvbjogXCJjYW52YXNcIixcblx0XHRjcmVhdGVkX2F0OiAwLFxuXHRcdGxhc3RfbW9kaWZpZWQ6IDAsXG5cdH0sXG5cdHtcblx0XHRpZDogXCJzMlwiLFxuXHRcdHRpdGxlOiBcIm5vZGUyXCIsXG5cdFx0ZGVzY3JpcHRpb246IFwiXCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRleHRlbnNpb246IFwiY2FudmFzXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXHR7XG5cdFx0aWQ6IFwiczFcIixcblx0XHR0aXRsZTogXCJub2RlMVwiLFxuXHRcdGRlc2NyaXB0aW9uOiBcIm5vZGUxIGJpc1wiLFxuXHRcdGNvbnRhaW5lcjogbnVsbCxcblx0XHRzZWxlY3RlZDogZmFsc2UsXG5cdFx0dHlwZTogXCJmaWxlXCIsXG5cdFx0ZXh0ZW5zaW9uOiBcImNhbnZhc1wiLFxuXHRcdGNyZWF0ZWRfYXQ6IDAsXG5cdFx0bGFzdF9tb2RpZmllZDogMCxcblx0fSxcblx0e1xuXHRcdGlkOiBcInMzXCIsXG5cdFx0dGl0bGU6IFwibm9kZTEyM1wiLFxuXHRcdGRlc2NyaXB0aW9uOiBcImRlc2NyaXB0aW9uXCIsXG5cdFx0Y29udGFpbmVyOiBudWxsLFxuXHRcdHNlbGVjdGVkOiBmYWxzZSxcblx0XHR0eXBlOiBcImZpbGVcIixcblx0XHRleHRlbnNpb246IFwiY2FudmFzXCIsXG5cdFx0Y3JlYXRlZF9hdDogMCxcblx0XHRsYXN0X21vZGlmaWVkOiAwLFxuXHR9LFxuXTtcblxuZGVzY3JpYmUoXCJOb2Rlc0V4cGxvcmVyXCIsICgpID0+IHtcblx0Y29uc3QgZXhwbG9yZXIgPSBuZXcgTm9kZXNFeHBsb3JlcigpO1xuXG5cdGJlZm9yZUVhY2goKCkgPT4ge1xuXHRcdGV4cGxvcmVyLmNsZWFyKCk7XG5cdH0pO1xuXG5cdC8vIEFkZCBlbGVtZW50c1xuXHR0ZXN0KFwiU2ltcGxlIGFkZFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRleHBsb3Jlci5hZGQoc2FtcGxlX25vZGVzWzBdKTtcblxuXHRcdGV4cGVjdChleHBsb3Jlci5zaXplKS50b0JlKHNhbXBsZV9ub2Rlc1swXS50aXRsZS5sZW5ndGgpO1xuXHR9KTtcblxuXHR0ZXN0KFwiQWRkIG11bHRpcGxlXCIsICgpID0+IHtcblx0XHRleHBlY3QoZXhwbG9yZXIuc2l6ZSkudG9CZSgwKTtcblxuXHRcdGV4cGxvcmVyLmFkZChzYW1wbGVfbm9kZXNbMF0pO1xuXHRcdGV4cGxvcmVyLmFkZChzYW1wbGVfbm9kZXNbMV0pO1xuXG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoXG5cdFx0XHRzYW1wbGVfbm9kZXNbMF0udGl0bGUubGVuZ3RoICsgc2FtcGxlX25vZGVzWzFdLnRpdGxlLmxlbmd0aFxuXHRcdCk7XG5cdH0pO1xuXG5cdHRlc3QoXCJBZGQgbXVsdGlwbGUgb3ZlcmxhcFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRleHBsb3Jlci5hZGQoc2FtcGxlX25vZGVzWzBdKTtcblx0XHRleHBsb3Jlci5hZGQoc2FtcGxlX25vZGVzWzJdKTtcblxuXHRcdGV4cGVjdChleHBsb3Jlci5zaXplKS50b0JlKHNhbXBsZV9ub2Rlc1syXS50aXRsZS5sZW5ndGgpO1xuXHR9KTtcblxuXHQvLyBSZW1vdmUgZWxlbWVudHNcblx0dGVzdChcIlNpbXBsZSByZW1vdmVcIiwgKCkgPT4ge1xuXHRcdGV4cGVjdChleHBsb3Jlci5zaXplKS50b0JlKDApO1xuXG5cdFx0Y29uc3Qgbm9kZSA9IHNhbXBsZV9ub2Rlc1swXTtcblx0XHRleHBsb3Jlci5hZGQobm9kZSk7XG5cdFx0ZXhwbG9yZXIucmVtb3ZlKG5vZGUpO1xuXHRcdGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGV4cGxvcmVyKSk7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cdH0pO1xuXG5cdC8vIFNlYXJjaCBlbGVtZW50c1xuXHR0ZXN0KFwiU2ltcGxlIHNlYXJjaFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRjb25zdCBub2RlID0gc2FtcGxlX25vZGVzWzBdO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlKTtcblxuXHRcdGNvbnN0IHNlYXJjaCA9IGV4cGxvcmVyLnNlYXJjaChub2RlLnRpdGxlKTtcblx0XHRjb25zdCBzX25vZGUgPSBzZWFyY2hbMF07XG5cdFx0ZXhwZWN0KHNlYXJjaC5sZW5ndGgpLnRvQmUoMSk7XG5cdFx0ZXhwZWN0KHNfbm9kZS50aXRsZSkudG9CZShub2RlLnRpdGxlKTtcblx0fSk7XG5cblx0dGVzdChcIlNlYXJjaCBub3QgZXhpdFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRsZXQgc2VhcmNoID0gZXhwbG9yZXIuc2VhcmNoKFwiZW1wdHlcIik7XG5cdFx0ZXhwZWN0KHNlYXJjaC5sZW5ndGgpLnRvQmUoMCk7XG5cblx0XHRjb25zdCBub2RlID0gc2FtcGxlX25vZGVzWzBdO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlKTtcblxuXHRcdHNlYXJjaCA9IGV4cGxvcmVyLnNlYXJjaChcImVtcHR5XCIpO1xuXHRcdGV4cGVjdChzZWFyY2gubGVuZ3RoKS50b0JlKDApO1xuXHR9KTtcblxuXHR0ZXN0KFwiU2VhcmNoIGFmdGVyIHJlbW92ZVwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRjb25zdCBub2RlID0gc2FtcGxlX25vZGVzWzBdO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlKTtcblx0XHRleHBsb3Jlci5yZW1vdmUobm9kZSk7XG5cblx0XHRjb25zdCBzZWFyY2ggPSBleHBsb3Jlci5zZWFyY2gobm9kZS50aXRsZSk7XG5cdFx0ZXhwZWN0KHNlYXJjaC5sZW5ndGgpLnRvQmUoMCk7XG5cdH0pO1xuXG5cdHRlc3QoXCJTZWFyY2ggb3ZlcmxhcFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRjb25zdCBub2RlID0gc2FtcGxlX25vZGVzWzBdO1xuXHRcdGNvbnN0IG5vZGUyID0gc2FtcGxlX25vZGVzWzJdO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlKTtcblx0XHRleHBsb3Jlci5hZGQobm9kZTIpO1xuXG5cdFx0Y29uc3Qgc2VhcmNoID0gZXhwbG9yZXIuc2VhcmNoKG5vZGUudGl0bGUpO1xuXHRcdGV4cGVjdChzZWFyY2gubGVuZ3RoKS50b0JlKDEpO1xuXG5cdFx0Y29uc3Qgc19ub2RlID0gc2VhcmNoWzBdO1xuXHRcdGV4cGVjdChzX25vZGUudGl0bGUpLnRvQmUobm9kZTIudGl0bGUpO1xuXHRcdGV4cGVjdChzX25vZGUuZGVzY3JpcHRpb24pLnRvQmUobm9kZTIuZGVzY3JpcHRpb24pO1xuXHR9KTtcblxuXHR0ZXN0KFwiUHJlZml4IHNlYXJjaFwiLCAoKSA9PiB7XG5cdFx0ZXhwZWN0KGV4cGxvcmVyLnNpemUpLnRvQmUoMCk7XG5cblx0XHRjb25zdCBub2RlID0gc2FtcGxlX25vZGVzWzBdO1xuXHRcdGNvbnN0IG5vZGUyID0gc2FtcGxlX25vZGVzWzFdO1xuXHRcdGNvbnN0IG5vZGUzID0gc2FtcGxlX25vZGVzWzNdO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlKTtcblx0XHRleHBsb3Jlci5hZGQobm9kZTIpO1xuXHRcdGV4cGxvcmVyLmFkZChub2RlMyk7XG5cblx0XHQvL0B0cy1pZ25vcmVcblx0XHRjb25zdCBzZWFyY2ggPSBleHBsb3Jlci5wcmVmaXhTZWFyY2goXCJub1wiKTtcblx0XHRleHBlY3Qoc2VhcmNoLmxlbmd0aCkudG9CZSgzKTtcblx0XHRleHBlY3Qoc2VhcmNoKS50b0NvbnRhaW4obm9kZSk7XG5cdFx0ZXhwZWN0KHNlYXJjaCkudG9Db250YWluKG5vZGUyKTtcblx0XHRleHBlY3Qoc2VhcmNoKS50b0NvbnRhaW4obm9kZTMpO1xuXHR9KTtcbn0pO1xuIl19